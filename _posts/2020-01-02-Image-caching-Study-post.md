---
title: "이미지 캐싱"
date: 2020-01-02 09:40:10 -0400
categories: 졔 update
---


### Image Caching


최근에 블로그에서 조회 수가 쭉쭉 올라가는 걸 보면서 깃헙블로그에 옮겨야겠단 생각이 들어서 다시 작성합니다.

<br>

이전 글을 보고 싶으신 분은 하단에 링크를 걸어두었습니다.

블로그를 더 오래 운영했기 때문에 재밌는 자료가 많으니 한 번 놀러 오세요^^

<br>

혹시 이미지 캐싱을 해야 한다고 하면 그냥 묻지도 따지지도 않고 킹피셔를 사용하셨나요?

네! 저도요 (ㅋㅋㅋㅋ)

<br>

그래서 이미지 캐싱 하면 그냥 킹피셔 써야지라는 생각밖에 안 들더라고요.

내가 어떤 이유를 가지고 이 타이밍에 킹피셔가 아니면 안 돼!라는 생각을 하지 않고 그냥 쓰고 있더라고요.

그러면 안 됩니다 우린 사람이고 생각을 해야 하고 모든 행동엔 이유가 있어야 합니다.

<br>

누군가 제 코드를 보고 킹피셔를 이미지 캐싱 할 때, 딱 한 곳에서만 썼는데 굳이 킹피셔를 왜 써야 하나요?라고 물을 때 뭐라고 해야 할지 모르겠더라고요.

그래서 그 물음에 대답해 주고 싶어서 이미지 캐싱을 공부하려고 합니다.

<br>

지금은 이렇게 좋은 말 멋진 말로 글을 시작하고 있지만 제가 이미지 캐싱에 대해서 처음 공부하려고 마음먹은 건 부끄러우니 여기엔 적지 않겠습니다.

<br>

## 캐싱은 무엇일까요????

캐싱은 저장하는 거랍니다

<br>

컴퓨터에서 오래 걸리는 작업의 결과를 저장해놨다가 동일한 작업을 할 때 저장된 결과를 가져오는 겁니다!

캐시의 대표적인 사례들에 대해서 설명해주는데 이게 젤 마음에 들어서 자세하게 적어보았습니다.

[생활코딩](https://opentutorials.org/course/697/3839)에서는 캐싱의 대표적 사례로 네 가지를 이야기해줬습니다.

<br>

- 시험을 볼 때 원리를 이해하고 문제를 푸는 것이 아니라 덤프를 외워서 답안을 작성한다

- 웹브라우저는 한번 다운로드 한 이미지 파일은 임시저장 디렉터리에 저장했다가 다음 요청이 있을 때 다운로드하지 않고 다운받아 둔 이미지를 사용한다

- 웹페이지를 탐색할 때 도메인을 이용하면 내부적으로는 그 도메인에 해당하는 IP를 알아내기 위해서 네임서버에 접속을 한다. 이때 네임서버가 알려준 IP 주소를 운영체제나 브라우저는 그 결과를 기억하고 있다가 동일 도메인에 대한 접근 시에 저장된 IP 주소를 사용한다

- CPU는 연산의 결과를 빠르게 저장하기 위해서 메인 메모리 보다 빠른 캐시메모리를 사용해서 빠르게 작업을 처리한다

<br>

<br>

### DNS(Domain Name System)

예를 들면 우리가 쓰는 www.naver.com 요로케 생긴 주소들 있잖아요.

이 주소들을 주소창에 땅! 쳐봤자 이 도메인으로 페이지를 찾아갈 수가 없답니다.

그래서 이 도메인의 아이피 주소를 알고 있는 애한테 가서 아이피 주소를 받아서 페이지를 찾아갑니다.

이때 매번 도메인을 들고 가서 아이피 주소를 달라고 요청하는 게 아니라 한번 받아온 아이피 주소는 들고 있다가 또 해당 도메인으로 접근하려고 할 때 저장되어 있던 아이피 주소를 쓴다고 합니다.

아 그럼 이미지 캐싱 하는 건 매번 새롭게 이미지를 필요할 때마다 로딩하는 것이 아니라 메모리에 캐싱해서 그때그때 가져다 쓰는 것이겠네요!!!😆


<br>

<br>

아 그럼 이미지 캐싱이 무엇인지 알았으니 이미지 캐싱하면 유명한 Kingfisher 는 캐싱을 어떻게 하고 있는지 알아보겠습니다.

<br>

Kingfisher 에는 NSCache 와 FileManager 를 사용한 캐싱을 모두 사용하고 있습니다

FileManager 를 이용한 예제는 찾지 못했고 NSCache에 대한 예제가 있으니 한번 작성해 보겠습니다





[<img width="250" src="/assets/images/avatar.jpg" alt="졔로운블로그">](https://blog.naver.com/taerg89/221689280589)
